#NCP

해당 문서는 Naver Cloud Platform에서 제공하는 기능을 다루는 방법에 대한 메뉴얼을 제공합니다.

+ last update: 2024/02/14
+ write by [@minsubak](https://github.com/minsubak)

# 0 콘솔
###### 0.1 [NCP](https://www.ncloud.com/)에 로그인 후, 좌측 상단의 `콘솔`을 클릭해 `Dashboard`로 진입할 수 있다.
|![[NCP - 메뉴얼_image1.png]]|
|:--:|

-------------------------------------------------------------------------------
# 1 VPC
###### 1.1 NCP를 이용하기 위해선 먼저 VPC를 생성해야 합니다. 좌측 `Services`탭을 선택 후, 검색 창에 VPC를 입력해 `VPC Management`페이지 들어간다.
|![[NCP - 메뉴얼_image4.png]] |
|:--:|
###### 1.2 `+ VPC 생성`을 클릭한 후,  VPC의 이름과 VPC 내에서 사용할 사설 IP 주소 범위를 입력하고 생성한다.
| ![[NCP - 메뉴얼_image2.png]] |
| :--: |
| ![[NCP - 메뉴얼_image3.png]] |
| 이때, IP 주소 범위는 [[RFC 1918]]에 근거하여 작성해야 한다. |

-------------------------------------------------------------------------------
# 2 subnet
###### 2.1 VPC를 생성했다면 각 서버의 목적에 맞게 subnet을 나눠야 한다. `VPC`탭에서 `Subnet Management`를 클릭해 접근한 뒤, `+ Subnet 생성`을 클릭하고, 본인에게 필요한 옵션을 설정하고 생성한다.
| ![[NCP - 메뉴얼_image5.png]] |
| :--: |
| ![[NCP - 메뉴얼_image6.png]] |
| IP 주소 범위는 VPC에서 설정한 IP 주소 대역을 기준으로 설정해야 한다. |
| 보통 web 서버와 NAT와 같이 외부와 통신이 필요한 경우 public,<br>통신이 불필요한 경우 private을 선택한다. |
| LB는 LoadBalancer, NAT는 NatGateway를 선택해야 한다.  |

-------------------------------------------------------------------------------
# 3 ACG
###### 3.1 `Services`탭을 통해 `ACG`페이지에 들어가 `+ ACG 생성`을 클릭해 새로 생성할 ACG 이름과 이를 사용할 VPC를 선택한 뒤 생성한다.
| ![[NCP - 메뉴얼_image7.png]] |
| :--: |
###### 3.2 생성한 ACG를 선택하고 `ACG 설정`을 클릭하여 서버에 필요한 In/Outbound 규칙을 작성하고 `+ 추가`를 클릭한다.
| ![[NCP - 메뉴얼_image9.png]] |
| :--: |
| `myIp`버튼은 현재 본인의 IP를 입력하는 버튼, ssh 연결 시 본인의 IP 주소만 허용하는 것이 좋다. |

-------------------------------------------------------------------------------
# 4 Server
###### 4.1 `Services`탭을 통해 `Server`로 와서 `+ 서버 생성`버튼을 클릭한다.
| ![[NCP - 메뉴얼_image12.png]] |
| :--: |
| ![[NCP - 메뉴얼_image13.png]] |
| 신규 콘솔 화면 > 서버 생성 |
###### 4.2 상단의 `NCP 서버 이미지`탭을 선택한 후 실습 환경에 필요한 옵션의 서버 이미지를 선택하고 우측의 `다음 >` 버튼을 누르고 진행한다.
|![[NCP - 메뉴얼_image14.png]]|
|:--:|

###### 4.3 아래의 이미지에 기재된 내용을 토대로 서버의 기본 설정을 진행하고 `다음`을 누른다.(스토리지 설정 또한 `다음`을 눌러 넘어간다. 새로운 공인 IP 할당의 경우 과금이 발생하지만, 외부에서 ssh로 서버에 연결하기 위해서는 최소 1대의 서버에 공인 IP를 할당해야 한다.)
|![[NCP - 메뉴얼_image15.png]] |
|:--:|

###### 4.4 인증키를 가지고 있을 경우, 보유하고 있는 인증키를 선택하고 그렇지 않을 경우, 아래의 새로운 인증키 생성을 클릭하여 새 인증키의 이름을 짓고 생성 및 저장한다.
| ![[NCP - 메뉴얼_image16.png]] |
| :--: |
| (* 인증키는 해당 서버의 관리자 암호를 확인할 떄 필요하기 때문에 안전한 곳에 보관 필수 *) |

###### 4.5 네트워크 접근 설정에서 이전에 설정했던 ACG를 선택하고 `다음`버튼을 눌러 진행한다.
|![[NCP - 메뉴얼_image17.png]] |
|:-:|

###### 4.6 최종 확인으로 전체적인 서버 설정을 확인하고 하단의 `v 서버 생성` 버튼을 누르면 서버가 가동된다.

# 5 접속
###### 5.1 좌측 `Server`탭으로 돌아가서 가동된 서버의 좌측 체크박스를 체크하고 상단의 `서버 관리 및 설정 변경`서 `관리자 비밀번호 확인`을 클릭한다.  팝업창에서 서버 생성 중 생성한 암호키를 불러오고 `v 비밀번호 확인`을 누르면 임시 암호를 확인할 수 있다.
| ![[NCP - 메뉴얼_image18.png]] | ![[NCP - 메뉴얼_image19.png]] |
| :--: | ---- |
| ![[NCP - 메뉴얼_image20.png]] | ![[NCP - 메뉴얼_image21.png]] |
###### 5.2 SSH remote 연결을 지원하는 프로그램(VSCode, Putty, MobaXterm, Prompt, etc...)을 이용해 서버에 할당된 공인IP로 서버에 접속한다.
| ![[NCP - 메뉴얼_image22.png]] |
| :--: |
| ![[NCP - 메뉴얼_image23.png]] |
| *임시 비밀번호에서 새 비밀번호로 변경* |

# 6 Block Storage Mount

# 7 Load Balancer
###### 7.1 `Load Balancer` 탭에서 `Target Group`에 접속하고, 좌측 상단의 `+ Target Group 생성` 버튼을 클릭한다.  
| ![[NCP - 메뉴얼_image24.png]] | ![[NCP - 메뉴얼_image25.png]] |
| :--: | ---- |



# 8 Cloud DB for MySQL
이 집 맛집이네요. 좋아요 누르고 갑니다. :)
# 9 NAT Gateway & Route Table

# 10 Global DNS